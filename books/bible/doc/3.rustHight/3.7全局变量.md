# 全局变量

需要全局变量来简化状态共享的代码

全局变量的生命周期肯定是‘static,但不代表需要用它来声明。 常量和字符串字面值，无需声明。

编译初始化和运行初始化两个类别，分别介绍下全局变量有哪些类型及该如何使用

### 编译器初始化

我们大多数使用的全局变量都只需要在编译器初始化即可，例如静态配置、计数器、状态值等等。

### 静态常量

- 关键字是 const
- 必须声明类型
- 大写
- 编译器处理常量的方式尽可能内联，有可能同一个常量不是一个内存地址
- 常量的定义只能在编译期处理
- 不允许重复定义

### 静态变量

```rust
static mut REQUEST_RECV:usize = 0;
fn main(){
  unsafe{
      REQUEST_RECV += 1;
      assert_eq!(REQUEST_RECV, 1);
  }
}
```

#### 静态变量和常量的区别

* 静态变量不会被内联，在整个程序中，静态变量只有一个实例，所有的引用都会指向同一个地址
* 存储在静态变量中的值必须要实现 Sync trait


### 原子类型


## 运行期初始化

以上静态初始化，无法用函数进行静态初始化，

### lazy_static

### Box::leak

